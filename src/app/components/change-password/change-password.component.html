<p-dialog
  header="Edit Password"
  [modal]="true"
  [(visible)]="employee.changePassword"
  [draggable]="false"
  [resizable]="false"
  [closable]="false"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
>
  <span class="p-text-secondary block mb-5"
    >This is your first login and currently your password setting is the default
    Please change your password before you can use InOUtFlow</span
  >
  <form [formGroup]="form" class="flex flex-column gap-2 align-items-center">
    <!-- password -->
    <div class="p-field flex flex-column gap-1">
      <label for="passwordNew">New Password</label>
      <p-password
        type="password"
        id="passwordNew"
        formControlName="passwordNew"
        [toggleMask]="true"
        [feedback]="false"
      />
      <small
        *ngIf="
          form.controls['passwordNew'].invalid &&
          (form.controls['passwordNew'].dirty ||
            form.controls['passwordNew'].touched)
        "
        class="p-error"
        >Password is required</small
      >
    </div>

    <!-- password -->
    <div class="p-field flex flex-column gap-1">
      <label for="passwordRep">Repeat Password</label>
      <p-password
        type="password"
        id="passwordRep"
        formControlName="passwordRep"
        [toggleMask]="true"
        [feedback]="false"
      />
      <small
        *ngIf="
          form.controls['passwordRep'].invalid &&
          (form.controls['passwordRep'].dirty ||
            form.controls['passwordRep'].touched)
        "
        class="p-error"
        >Password is required</small
      >
    </div>

    <p-button
      type="submit"
      [disabled]="
        form.invalid ||
        (form.controls['passwordNew'].value === '' &&
          form.controls['passwordRep'].value === '') ||
        form.controls['passwordNew'].value !==
          form.controls['passwordRep'].value
      "
      label="Change password"
      class="mt-2 p-button-primary w-auto text-center"
      (onClick)="onSubmit()"
    ></p-button>
  </form>
</p-dialog>
